# Query-to-Visualization Pipeline Test Results

## Test Summary
- **Test Date**: 2025-08-22T03:15:27.657Z
- **Total Queries**: 22
- **Successful**: 22
- **Failed**: 0
- **Success Rate**: 100.0%
- **Total Duration**: 60ms
- **Average Duration**: 2.7ms per query

## Category Results
### ✅ Successful Categories
- Strategic Analysis
- Comparative Analysis
- Competitive Analysis
- Demographic Insights
- Customer Profile
- Spatial Clusters
- Outlier Detection
- Brand Difference
- Scenario Analysis
- Feature Interactions
- Segment Profiling
- Sensitivity Analysis
- Feature Importance Ranking
- Model Performance
- Algorithm Comparison
- Ensemble Analysis
- Model Selection
- Dimensionality Insights
- Consensus Analysis
- Anomaly Insights
- Cluster Analysis
- Analyze

### ❌ Failed Categories
- None

## Performance Analysis
### Routing Method Distribution
- **semantic**: 22 queries (100.0%)

### Average Performance by Category
- **Strategic Analysis**: 4.0ms avg, 100.0% success rate (1/1)
- **Comparative Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Competitive Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Demographic Insights**: 2.0ms avg, 100.0% success rate (1/1)
- **Customer Profile**: 3.0ms avg, 100.0% success rate (1/1)
- **Spatial Clusters**: 7.0ms avg, 100.0% success rate (1/1)
- **Outlier Detection**: 3.0ms avg, 100.0% success rate (1/1)
- **Brand Difference**: 2.0ms avg, 100.0% success rate (1/1)
- **Scenario Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Feature Interactions**: 2.0ms avg, 100.0% success rate (1/1)
- **Segment Profiling**: 3.0ms avg, 100.0% success rate (1/1)
- **Sensitivity Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Feature Importance Ranking**: 3.0ms avg, 100.0% success rate (1/1)
- **Model Performance**: 2.0ms avg, 100.0% success rate (1/1)
- **Algorithm Comparison**: 2.0ms avg, 100.0% success rate (1/1)
- **Ensemble Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Model Selection**: 2.0ms avg, 100.0% success rate (1/1)
- **Dimensionality Insights**: 2.0ms avg, 100.0% success rate (1/1)
- **Consensus Analysis**: 2.0ms avg, 100.0% success rate (1/1)
- **Anomaly Insights**: 3.0ms avg, 100.0% success rate (1/1)
- **Cluster Analysis**: 3.0ms avg, 100.0% success rate (1/1)
- **Analyze**: 5.0ms avg, 100.0% success rate (1/1)

## Detailed Test Results

### Algorithm Comparison

#### ✅ Query 1: "Which AI model performs best for predicting tax service usage in each area?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.633Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Analyze

#### ✅ Query 2: "Provide comprehensive market insights for tax preparation services"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 5ms
- Timestamp: 2025-08-22T03:15:27.651Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Anomaly Insights

#### ✅ Query 3: "Which unusual market patterns represent the biggest business opportunities?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.645Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Brand Difference

#### ✅ Query 4: "Which markets have the strongest H&R Block brand positioning vs competitors?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.617Z

**Query Routing:**
- Expected Endpoint: `/brand-difference`
- Actual Endpoint: `/competitive-analysis` ⚠️
- Routing Method: semantic
- Confidence: 0.900
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /competitive-analysis
- Processor: StrategicAnalysisProcessor
- Target Variable: competitive_advantage_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.9

---

### Cluster Analysis

#### ✅ Query 5: "How should we segment tax service markets for targeted strategies?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.648Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Comparative Analysis

#### ✅ Query 6: "Compare H&R Block usage between Alachua County and Miami-Dade County"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.596Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Geographic Processing:**
- Entities Detected: detected-county
- ZIP Codes: 10
- Processing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Competitive Analysis

#### ✅ Query 7: "Show me the market share difference between H&R Block and TurboTax"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.599Z

**Query Routing:**
- Expected Endpoint: `/competitive-analysis`
- Actual Endpoint: `/brand-difference` ⚠️
- Routing Method: semantic
- Confidence: 0.850
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /brand-difference
- Processor: StrategicAnalysisProcessor
- Target Variable: brand_difference_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.85

---

### Consensus Analysis

#### ✅ Query 8: "Where do all our AI models agree on tax service predictions?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.643Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Customer Profile

#### ✅ Query 9: "Show me areas with ideal customer personas for tax preparation services"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.604Z

**Query Routing:**
- Expected Endpoint: `/customer-profile`
- Actual Endpoint: `/analyze` ⚠️
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Demographic Insights

#### ✅ Query 10: "Which areas have the best customer demographics for tax preparation services?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.602Z

**Query Routing:**
- Expected Endpoint: `/demographic-insights`
- Actual Endpoint: `/demographic-insights` ✅
- Routing Method: semantic
- Confidence: 0.800
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /demographic-insights
- Processor: StrategicAnalysisProcessor
- Target Variable: demographic_insights_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.8

---

### Dimensionality Insights

#### ✅ Query 11: "Which factors explain most of the variation in tax service market performance?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.641Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Ensemble Analysis

#### ✅ Query 12: "Show me the highest confidence predictions using our best ensemble model"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.636Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Feature Importance Ranking

#### ✅ Query 13: "What are the most important factors predicting H&R Block online usage?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.628Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Feature Interactions

#### ✅ Query 14: "Which markets have the strongest interactions between demographics and tax service usage?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.621Z

**Query Routing:**
- Expected Endpoint: `/feature-interactions`
- Actual Endpoint: `/demographic-insights` ⚠️
- Routing Method: semantic
- Confidence: 0.800
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /demographic-insights
- Processor: StrategicAnalysisProcessor
- Target Variable: demographic_insights_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.8

---

### Model Performance

#### ✅ Query 15: "How accurate are our predictions for tax service market performance?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.631Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Model Selection

#### ✅ Query 16: "What is the optimal AI algorithm for predictions in each geographic area?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.638Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/analyze` ✅
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Outlier Detection

#### ✅ Query 17: "Show me markets that have outliers with unique tax service characteristics"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.614Z

**Query Routing:**
- Expected Endpoint: `/outlier-detection`
- Actual Endpoint: `/analyze` ⚠️
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Scenario Analysis

#### ✅ Query 18: "What if H&R Block changes its pricing strategy - which markets would be most resilient?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.619Z

**Query Routing:**
- Expected Endpoint: `/scenario-analysis`
- Actual Endpoint: `/analyze` ⚠️
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Segment Profiling

#### ✅ Query 19: "Which markets have the clearest customer segmentation profiles for tax services?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 3ms
- Timestamp: 2025-08-22T03:15:27.623Z

**Query Routing:**
- Expected Endpoint: `/segment-profiling`
- Actual Endpoint: `/analyze` ⚠️
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Sensitivity Analysis

#### ✅ Query 20: "How do tax service rankings change if we adjust income weights by 20%?"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 2ms
- Timestamp: 2025-08-22T03:15:27.626Z

**Query Routing:**
- Expected Endpoint: `/analyze`
- Actual Endpoint: `/demographic-insights` ⚠️
- Routing Method: semantic
- Confidence: 0.800
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /demographic-insights
- Processor: StrategicAnalysisProcessor
- Target Variable: demographic_insights_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.8

---

### Spatial Clusters

#### ✅ Query 21: "Show me geographic clusters of similar tax service markets"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 7ms
- Timestamp: 2025-08-22T03:15:27.607Z

**Query Routing:**
- Expected Endpoint: `/spatial-clusters`
- Actual Endpoint: `/analyze` ⚠️
- Routing Method: semantic
- Confidence: 0.600
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /analyze
- Processor: StrategicAnalysisProcessor
- Target Variable: analyze_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.6

---

### Strategic Analysis

#### ✅ Query 22: "Show me the top strategic markets for H&R Block tax service expansion"

**Basic Info:**
- Status: SUCCESS
- Processing Time: 4ms
- Timestamp: 2025-08-22T03:15:27.592Z

**Query Routing:**
- Expected Endpoint: `/strategic-analysis`
- Actual Endpoint: `/strategic-analysis` ✅
- Routing Method: semantic
- Confidence: 0.900
- Routing Time: 0ms

**Brand Analysis:**
- Target Brand: Nike
- Brands Detected: Nike, Adidas
- Competitors: Adidas

**Configuration:**
- Configuration: /strategic-analysis
- Processor: StrategicAnalysisProcessor
- Target Variable: strategic_analysis_score

**Data Analysis:**
- Record Count: 2
- Score Range: 85.30 - 92.10
- Mean: 88.70
- Median: 92.10
- Std Dev: 3.40

**Visualization:**
- Renderer Type: class-breaks
- Renderer Field: strategic_analysis_score
- Class Breaks: 4
- Colors: rgb(215, 48, 39), rgb(253, 174, 97), rgb(166, 217, 106), rgb(26, 152, 80)

**Validation Results:**
- Analysis Quality: ✅ PASS
- Legend Accuracy: ✅ PASS
- Field Consistency: ✅ PASS

**Troubleshooting Notes:**
- Semantic routing successful with confidence 0.9

---

## Summary

This comprehensive test report covers the complete query-to-visualization pipeline for all queries in ANALYSIS_CATEGORIES. Each query was tested through all pipeline steps including semantic routing, geographic processing, brand analysis, configuration management, data processing, renderer generation, and validation.

**Key Findings:**
- 22/22 queries processed successfully
- Average processing time: 2.7ms per query
- Routing method distribution shows semantic vs keyword vs fallback usage
- Field consistency and validation results identify areas for improvement

**Recommendations:**
- Monitor performance metrics for queries exceeding average processing time
- Validate field mappings for queries with field consistency failures
