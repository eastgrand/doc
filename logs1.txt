UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
SpatialFilterConfig.ts:11 [SpatialFilterConfig] Using configured spatial reference layer: Unknown_Service_layer_0
UnifiedAnalysisWorkflow.tsx:423 [UnifiedWorkflow] Using spatial reference layer: {layerId: 'Unknown_Service_layer_0', geometryType: 'polygon', method: 'project-area'}
UnifiedAnalysisWorkflow.tsx:432 [UnifiedAnalysisWorkflow] Analysis request preparation: {shouldApplySpatialFilter: false, areaSelectionMethod: 'project-area', hasGeometry: true, geometryType: 'polygon'}
UnifiedAnalysisWorkflow.tsx:471 [UnifiedWorkflow] Starting analysis with spatial context: {hasGeometry: false, geometryType: undefined, hasView: true, layerId: 'Unknown_Service_layer_0'}
UnifiedAnalysisWrapper.tsx:95 [UnifiedAnalysisWrapper] Processing request: {analysisType: 'query', hasGeometry: false, query: 'Show me the market share difference between H&R Bl'}
UnifiedAnalysisWrapper.tsx:167 [UnifiedAnalysisWrapper] Spatial filter skipped - missing required parameters: {hasGeometry: false, hasView: true, hasDataSourceLayerId: true}
AnalysisEngine.ts:97 [AnalysisEngine] Creating singleton instance...
ConfigurationManager.ts:35 [ConfigurationManager] Creating singleton instance...
ConfigurationManager.ts:59 [ConfigurationManager] Loading configurations...
ConfigurationManager.ts:69 [ConfigurationManager] ‚úÖ Singleton loaded configurations for 24 endpoints
CachedEndpointRouter.ts:27 [CachedEndpointRouter] Initialized with semantic routing (fallback to keyword-based)
CachedEndpointRouter.ts:38 [CachedEndpointRouter] Initializing semantic router...
SemanticRouter.ts:261 [SemanticRouter] Initializing...
EndpointEmbeddings.ts:42 [EndpointEmbeddings] Initializing endpoint embeddings...
LocalEmbeddingService.ts:41 [LocalEmbeddingService] Initializing sentence transformer...
LocalEmbeddingService.ts:51 [LocalEmbeddingService] Loading @xenova/transformers...
DataProcessor.ts:433 [DataProcessor] Initialized 30 specialized processors
VisualizationRenderer.ts:331 [VisualizationRenderer] Initialized 5 specialized renderers
CachedEndpointRouter.ts:27 [CachedEndpointRouter] Initialized with semantic routing (fallback to keyword-based)
CachedEndpointRouter.ts:38 [CachedEndpointRouter] Initializing semantic router...
SemanticRouter.ts:261 [SemanticRouter] Initializing...
MultiEndpointRouter.ts:35 [MultiEndpointRouter] Initialized with multi-endpoint support
MultiEndpointAnalysisEngine.ts:79 [MultiEndpointAnalysisEngine] Initialized with multi-endpoint capabilities
AnalysisEngine.ts:74 [AnalysisEngine] Multi-endpoint system enabled
AnalysisEngine.ts:79 [AnalysisEngine] Clustering system initialized
AnalysisEngine.ts:84 [AnalysisEngine] Initialized with multi-endpoint support: {multiEndpointEnabled: true, config: {‚Ä¶}}
AnalysisEngine.ts:119 [AnalysisEngine] Starting analysis: "Show me the market share difference between H&R Block and TurboTax"
AnalysisEngine.ts:125 [AnalysisEngine] Using frontend cache as primary data source
CachedEndpointRouter.ts:51 üî• [CachedEndpointRouter] selectEndpoint called with query: "Show me the market share difference between H&R Block and TurboTax"
CachedEndpointRouter.ts:52 üî• [CachedEndpointRouter] Options: {clusterConfig: undefined, spatialFilterIds: undefined, spatialFilterGeometry: undefined, spatialFilterMethod: 'project-area', persona: 'strategist'}
CachedEndpointRouter.ts:116 [CachedEndpointRouter] Multi-endpoint detection: {query: 'Show me the market share difference between H&R Bl...', hasMultiPattern: false, endpointMentions: 0, shouldRoute: false}
CachedEndpointRouter.ts:179 [CachedEndpointRouter] Using keyword-based analyzer for: "Show me the market share difference between H&R Block and TurboTax"
CachedEndpointRouter.ts:187 [CachedEndpointRouter] Top 3 endpoint scores:
CachedEndpointRouter.ts:189   1. /brand-difference: 21.2 - Primary keywords: market share difference, difference between, market share; Context matches: h&r block and turbotax, between h&r block; Brand comparison context: hrblock vs turbotax
CachedEndpointRouter.ts:189   2. /demographic-insights: 3 - Intent bonus: relationship (+3)
CachedEndpointRouter.ts:189   3. /comparative-analysis: 2.8499999999999996 - Primary keywords: between
CachedEndpointRouter.ts:196 [CachedEndpointRouter] Identified fields: (6)¬†[{‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}]
CachedEndpointRouter.ts:199 üî• [CachedEndpointRouter] ENDPOINT DECISION: /brand-difference for query: "Show me the market share difference between H&R Block and TurboTax"
CachedEndpointRouter.ts:68 [CachedEndpointRouter] Auto-selected endpoint: /brand-difference for query: "Show me the market share difference between H&R Block and TurboTax"
AnalysisEngine.ts:129 [AnalysisEngine] Selected endpoint: /brand-difference
CachedEndpointRouter.ts:270 [CachedEndpointRouter] Loading cached data for /brand-difference
CachedEndpointRouter.ts:271 [CachedEndpointRouter] Called with query: "Show me the market share difference between H&R Block and TurboTax"
CachedEndpointRouter.ts:272 [CachedEndpointRouter] Called with options: {clusterConfig: undefined, spatialFilterIds: undefined, spatialFilterGeometry: undefined, spatialFilterMethod: 'project-area', persona: 'strategist'}
CachedEndpointRouter.ts:333 [CachedEndpointRouter] Looking for dataset with key: "brand-difference"
LocalEmbeddingService.ts:92 [LocalEmbeddingService] Initialization failed: ReferenceError: onnxruntime is not defined
    at onnxruntime-node (page.js:18:18)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (onnx.js:8:74)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/backends/onnx.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:201:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (env.js:8:75)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/env.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:223:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (hub.js:9:65)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/utils/hub.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:333:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (tokenizers.js:52:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/tokenizers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:267:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (pipelines.js:30:72)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/pipelines.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:245:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (transformers.js:505:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/transformers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:278:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at async LocalEmbeddingService._doInitialize (LocalEmbeddingService.ts:52:30)
    at async EndpointEmbeddings._doInitialize (EndpointEmbeddings.ts:46:7)
window.console.error @ app-index.js:33
console.error @ hydration-error-info.js:63
_doInitialize @ LocalEmbeddingService.ts:92
await in _doInitialize
initialize @ LocalEmbeddingService.ts:35
_doInitialize @ EndpointEmbeddings.ts:46
initialize @ EndpointEmbeddings.ts:36
initialize @ SemanticRouter.ts:264
initializeSemanticRouter @ CachedEndpointRouter.ts:39
CachedEndpointRouter @ CachedEndpointRouter.ts:30
AnalysisEngine @ AnalysisEngine.ts:64
getInstance @ AnalysisEngine.ts:98
getAnalysisEngine @ UnifiedAnalysisWrapper.tsx:82
await in getAnalysisEngine
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:256
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
LocalEmbeddingService.ts:93 [LocalEmbeddingService] Semantic routing will be disabled, falling back to keyword-based routing
_doInitialize @ LocalEmbeddingService.ts:93
await in _doInitialize
initialize @ LocalEmbeddingService.ts:35
_doInitialize @ EndpointEmbeddings.ts:46
initialize @ EndpointEmbeddings.ts:36
initialize @ SemanticRouter.ts:264
initializeSemanticRouter @ CachedEndpointRouter.ts:39
CachedEndpointRouter @ CachedEndpointRouter.ts:30
AnalysisEngine @ AnalysisEngine.ts:64
getInstance @ AnalysisEngine.ts:98
getAnalysisEngine @ UnifiedAnalysisWrapper.tsx:82
await in getAnalysisEngine
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:256
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
EndpointEmbeddings.ts:56 [EndpointEmbeddings] Initialization failed: ReferenceError: onnxruntime is not defined
    at onnxruntime-node (page.js:18:18)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (onnx.js:8:74)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/backends/onnx.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:201:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (env.js:8:75)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/env.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:223:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (hub.js:9:65)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/utils/hub.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:333:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (tokenizers.js:52:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/tokenizers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:267:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (pipelines.js:30:72)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/pipelines.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:245:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (transformers.js:505:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/transformers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:278:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at async LocalEmbeddingService._doInitialize (LocalEmbeddingService.ts:52:30)
    at async EndpointEmbeddings._doInitialize (EndpointEmbeddings.ts:46:7)
window.console.error @ app-index.js:33
console.error @ hydration-error-info.js:63
_doInitialize @ EndpointEmbeddings.ts:56
await in _doInitialize
initialize @ EndpointEmbeddings.ts:36
initialize @ SemanticRouter.ts:264
initializeSemanticRouter @ CachedEndpointRouter.ts:39
CachedEndpointRouter @ CachedEndpointRouter.ts:30
AnalysisEngine @ AnalysisEngine.ts:64
getInstance @ AnalysisEngine.ts:98
getAnalysisEngine @ UnifiedAnalysisWrapper.tsx:82
await in getAnalysisEngine
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:256
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
CachedEndpointRouter.ts:42 [CachedEndpointRouter] Failed to initialize semantic router, using keyword fallback: ReferenceError: onnxruntime is not defined
    at onnxruntime-node (page.js:18:18)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (onnx.js:8:74)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/backends/onnx.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:201:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (env.js:8:75)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/env.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:223:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (hub.js:9:65)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/utils/hub.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:333:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (tokenizers.js:52:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/tokenizers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:267:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (pipelines.js:30:72)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/pipelines.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:245:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (transformers.js:505:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/transformers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:278:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at async LocalEmbeddingService._doInitialize (LocalEmbeddingService.ts:52:30)
    at async EndpointEmbeddings._doInitialize (EndpointEmbeddings.ts:46:7)
initializeSemanticRouter @ CachedEndpointRouter.ts:42
await in initializeSemanticRouter
CachedEndpointRouter @ CachedEndpointRouter.ts:30
AnalysisEngine @ AnalysisEngine.ts:64
getInstance @ AnalysisEngine.ts:98
getAnalysisEngine @ UnifiedAnalysisWrapper.tsx:82
await in getAnalysisEngine
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:256
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
CachedEndpointRouter.ts:42 [CachedEndpointRouter] Failed to initialize semantic router, using keyword fallback: ReferenceError: onnxruntime is not defined
    at onnxruntime-node (page.js:18:18)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (onnx.js:8:74)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/backends/onnx.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:201:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (env.js:8:75)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/env.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:223:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (hub.js:9:65)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/utils/hub.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:333:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (tokenizers.js:52:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/tokenizers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:267:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (pipelines.js:30:72)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/pipelines.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:245:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at eval (transformers.js:505:71)
    at (:3000/app-pages-browser)/node_modules/@xenova/transformers/src/transformers.js (http://localhost:3000/_next/static/chunks/vendors-_app-pages-browser_node_modules_xenova_transformers_src_models_js-_app-pages-browser_-96e241.js:278:1)
    at options.factory (webpack.js?v=1755868679199:715:31)
    at __webpack_require__ (webpack.js?v=1755868679199:37:33)
    at fn (webpack.js?v=1755868679199:371:21)
    at async LocalEmbeddingService._doInitialize (LocalEmbeddingService.ts:52:30)
    at async EndpointEmbeddings._doInitialize (EndpointEmbeddings.ts:46:7)
initializeSemanticRouter @ CachedEndpointRouter.ts:42
await in initializeSemanticRouter
CachedEndpointRouter @ CachedEndpointRouter.ts:30
MultiEndpointRouter @ MultiEndpointRouter.ts:33
MultiEndpointAnalysisEngine @ MultiEndpointAnalysisEngine.ts:74
AnalysisEngine @ AnalysisEngine.ts:72
getInstance @ AnalysisEngine.ts:98
getAnalysisEngine @ UnifiedAnalysisWrapper.tsx:82
await in getAnalysisEngine
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:256
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
blob-data-loader.ts:69 ‚úÖ Loaded brand-difference from blob storage
CachedEndpointRouter.ts:339 [CachedEndpointRouter] ‚úÖ Loaded data for brand-difference from blob storage
CachedEndpointRouter.ts:481 [CachedEndpointRouter] Processing wrapped format with 984 records
CachedEndpointRouter.ts:494 [CachedEndpointRouter] Processed 984 cached records
CachedEndpointRouter.ts:285 [CachedEndpointRouter] Loaded 984 records from cache in 264ms
DataProcessor.ts:307 üî• [DataProcessor] processResults called for endpoint: /brand-difference, query: "Show me the market share difference between H&R Block and TurboTax"
DataProcessor.ts:308 üî• [DataProcessor] Raw data structure: {success: true, resultsLength: 984, firstRecordKeys: Array(10)}
DataProcessor.ts:318 üî• [DataProcessor] Using processor: BrandDifferenceProcessor for endpoint: /brand-difference
BrandDifferenceProcessor.ts:19 üîç [BrandDifferenceProcessor] VALIDATE CALLED
BrandDifferenceProcessor.ts:20 üîç [BrandDifferenceProcessor] Raw data structure: {success: true, resultsLength: 984, firstRecordKeys: Array(54)}
BrandDifferenceProcessor.ts:50 üîç [BrandDifferenceProcessor] Brand fields validation result: true
BrandDifferenceProcessor.ts:57 ‚úÖ [BrandDifferenceProcessor] VALIDATION PASSED: Brand fields found
DataProcessor.ts:546 [DataProcessor] Extracted brands from query "Show me the market share difference between H&R Block and TurboTax": (2)¬†['h&r block', 'turbotax']
DataProcessor.ts:342 üî• [DataProcessor] Brand-difference context created: {query: 'Show me the market share difference between H&R Block and TurboTax', extractedBrands: Array(2)}
BrandDifferenceProcessor.ts:64 [BrandDifferenceProcessor] ===== BRAND DIFFERENCE PROCESSOR CALLED =====
BrandDifferenceProcessor.ts:65 [BrandDifferenceProcessor] Processing 984 records for brand difference analysis
BrandDifferenceProcessor.ts:66 [BrandDifferenceProcessor] Context: {query: 'Show me the market share difference between H&R Block and TurboTax', endpoint: '/brand-difference', extractedBrands: Array(2)}
BrandDifferenceProcessor.ts:72 [BrandDifferenceProcessor] Available brand fields in data: (6)¬†['MP10104A_B_P', 'MP10116A_B_P', 'MP10128A_B_P', 'MP10138A_B_P', 'MP10110A_B_P', 'MP10120A_B_P']
BrandDifferenceProcessor.ts:19 üîç [BrandDifferenceProcessor] VALIDATE CALLED
BrandDifferenceProcessor.ts:20 üîç [BrandDifferenceProcessor] Raw data structure: {success: true, resultsLength: 984, firstRecordKeys: Array(54)}
BrandDifferenceProcessor.ts:50 üîç [BrandDifferenceProcessor] Brand fields validation result: true
BrandDifferenceProcessor.ts:57 ‚úÖ [BrandDifferenceProcessor] VALIDATION PASSED: Brand fields found
BrandDifferenceProcessor.ts:696 [BrandDifferenceProcessor] Found unknown brand field MP10116A_B_P, naming it: taxsoftware16
BrandDifferenceProcessor.ts:696 [BrandDifferenceProcessor] Found unknown brand field MP10138A_B_P, naming it: taxsoftware38
BrandDifferenceProcessor.ts:696 [BrandDifferenceProcessor] Found unknown brand field MP10110A_B_P, naming it: taxsoftware10
BrandDifferenceProcessor.ts:696 [BrandDifferenceProcessor] Found unknown brand field MP10120A_B_P, naming it: taxsoftware20
BrandDifferenceProcessor.ts:707 [BrandDifferenceProcessor] Detected 6 brands in data: (6)¬†['turbotax', 'taxsoftware16', 'h&r block', 'taxsoftware38', 'taxsoftware10', 'taxsoftware20']
BrandDifferenceProcessor.ts:708 [BrandDifferenceProcessor] Brand field mapping: {turbotax: 'MP10104A_B_P', taxsoftware16: 'MP10116A_B_P', h&r block: 'MP10128A_B_P', taxsoftware38: 'MP10138A_B_P', taxsoftware10: 'MP10110A_B_P',¬†‚Ä¶}
BrandDifferenceProcessor.ts:81 [BrandDifferenceProcessor] Available brand fields: (6)¬†['turbotax', 'taxsoftware16', 'h&r block', 'taxsoftware38', 'taxsoftware10', 'taxsoftware20']
BrandDifferenceProcessor.ts:85 [BrandDifferenceProcessor] Context received: {hasContext: true, extractedBrands: Array(2), query: 'Show me the market share difference between H&R Block and TurboTax'}
BrandDifferenceProcessor.ts:105 [BrandDifferenceProcessor] Comparing brands: h&r block vs turbotax (from query)
BrandDifferenceProcessor.ts:108 [BrandDifferenceProcessor] Processing comparison for: h&r block vs turbotax
BrandDifferenceProcessor.ts:224 [BrandDifferenceProcessor] Using fields: MP10128A_B_P vs MP10104A_B_P
BrandDifferenceProcessor.ts:239 [BrandDifferenceProcessor] Record 0: h&r block=4.35%, turbotax=16.52%, difference=-12.17%
BrandDifferenceProcessor.ts:239 [BrandDifferenceProcessor] Record 1: h&r block=4.38%, turbotax=16.48%, difference=-12.100000000000001%
BrandDifferenceProcessor.ts:239 [BrandDifferenceProcessor] Record 2: h&r block=4.26%, turbotax=16.02%, difference=-11.76%
BrandDifferenceProcessor.ts:113 [BrandDifferenceProcessor] Processed 984 records for h&r block vs turbotax
BrandDifferenceProcessor.ts:114 [BrandDifferenceProcessor] Sample difference: 0%
BrandDifferenceProcessor.ts:370 [BrandDifferenceProcessor] Difference quintiles calculated: (5)¬†[-9.05, -8.39, -8.040000000000001, -7.71, 0]
BrandDifferenceProcessor.ts:128 [BrandDifferenceProcessor] Final result summary: {type: 'brand_difference', recordCount: 984, comparison: 'h&r block vs turbotax', avgDifference: -8.366036585365853}
BrandDifferenceProcessor.ts:208 [BrandDifferenceProcessor] Could not find field for brand: H&r block
extractBrandFieldCode @ BrandDifferenceProcessor.ts:208
process @ BrandDifferenceProcessor.ts:136
processResults @ DataProcessor.ts:343
processResultsWithGeographicAnalysis @ DataProcessor.ts:183
executeAnalysis @ AnalysisEngine.ts:226
await in executeAnalysis
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:257
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
BrandDifferenceProcessor.ts:208 [BrandDifferenceProcessor] Could not find field for brand: Turbotax
extractBrandFieldCode @ BrandDifferenceProcessor.ts:208
process @ BrandDifferenceProcessor.ts:137
processResults @ DataProcessor.ts:343
processResultsWithGeographicAnalysis @ DataProcessor.ts:183
executeAnalysis @ AnalysisEngine.ts:226
await in executeAnalysis
processQueryAnalysis @ UnifiedAnalysisWrapper.tsx:257
await in processQueryAnalysis
processUnifiedRequest @ UnifiedAnalysisWrapper.tsx:107
eval @ UnifiedAnalysisWorkflow.tsx:479
await in eval
onClick @ UnifiedAnalysisWorkflow.tsx:1734
callCallback @ react-dom.development.js:20565
invokeGuardedCallbackImpl @ react-dom.development.js:20614
invokeGuardedCallback @ react-dom.development.js:20689
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:20703
executeDispatch @ react-dom.development.js:32128
processDispatchQueueItemsInOrder @ react-dom.development.js:32160
processDispatchQueue @ react-dom.development.js:32173
dispatchEventsForPlugins @ react-dom.development.js:32184
eval @ react-dom.development.js:32374
batchedUpdates$1 @ react-dom.development.js:24953
batchedUpdates @ react-dom.development.js:28844
dispatchEventForPluginEventSystem @ react-dom.development.js:32373
dispatchEvent @ react-dom.development.js:30141
dispatchDiscreteEvent @ react-dom.development.js:30112
BrandDifferenceProcessor.ts:143 üî• [BrandDifferenceProcessor] Created renderer and legend: {rendererType: 'class-breaks', rendererField: 'brand_difference_score', classBreakCount: 4, firstLabel: '< -8.9%', legendTitle: 'Brand Market Share Difference (%)',¬†‚Ä¶}
BrandDifferenceProcessor.ts:169 [BrandDifferenceProcessor] ===== RETURNING PROCESSED DATA =====
BrandDifferenceProcessor.ts:170 [BrandDifferenceProcessor] Brand comparison: h&r block (MP10104A_B_P) vs turbotax (MP10104A_B_P)
BrandDifferenceProcessor.ts:171 [BrandDifferenceProcessor] Relevant fields for visualization: (2)¬†['MP10104A_B_P', 'MP10104A_B_P']
BrandDifferenceProcessor.ts:172 [BrandDifferenceProcessor] Records generated: 984
DataProcessor.ts:352 üö®üö®üö® [DataProcessor] Set targetVariable from ConfigurationManager: brand_difference_score üö®üö®üö®
DataProcessor.ts:355 [DataProcessor] Successfully processed 984 records using /brand-difference processor
DataProcessor.ts:356 üî• [DataProcessor] First processed record value: 0
DataProcessor.ts:357 üî• [DataProcessor] First processed record properties: {ID: 45, DESCRIPTION: '00045 (Southeast Marion Cnty)', OBJECTID: 980, MP10104A_B: 0, MP10104A_B_P: 0,¬†‚Ä¶}
GeoDataManager.ts:51 [GeoDataManager] Initializing comprehensive Florida geographic database...
GeoDataManager.ts:357 [GeoDataManager] Aggregating ZIP codes for counties, metros, and state...
GeoDataManager.ts:406 [GeoDataManager] ZIP code mappings created: {cities: 378, counties: 378, metros: 272, state: 378}
GeoDataManager.ts:60 [GeoDataManager] Comprehensive Florida database initialized with 32 entities
GeoAwarenessEngine.ts:602 [GeoAwarenessEngine] Loaded Phase 1 multi-level geographic data: {entities: 32, zipToCity: 378, zipToCounty: 378, zipToMetro: 272, zipToState: 378,¬†‚Ä¶}
GeoAwarenessEngine.ts:108 [GeoAwarenessEngine] Processing geo query: Show me the market share difference between H&R Block and TurboTax
GeoAwarenessEngine.ts:166 üîç [GEO DEBUG] Parsing query: "Show me the market share difference between H&R Block and TurboTax"
GeoAwarenessEngine.ts:172 üö´ [GEO DEBUG] Query lacks explicit geographic intent - skipping geographic filtering
AnalysisEngine.ts:242 [AnalysisEngine] Processed data returned: {type: 'brand_difference', recordCount: 984, targetVariable: 'brand_difference_score', firstRecord: {‚Ä¶}}
AnalysisEngine.ts:310 [AnalysisEngine] üéØ About to create visualization (AFTER clustering): {endpoint: '/brand-difference', dataType: 'brand_difference', recordCount: 984, isClustered: undefined, hasGeometry: 'NO',¬†‚Ä¶}
VisualizationRenderer.ts:100 [VisualizationRenderer] Creating visualization for /brand-difference with 984 records
VisualizationRenderer.ts:107 [VisualizationRenderer] Data type: brand_difference, target variable: brand_difference_score
VisualizationRenderer.ts:108 [VisualizationRenderer] Is clustered data: undefined
VisualizationRenderer.ts:109 [VisualizationRenderer] Sample record: {area_id: 'area_11', area_name: '00045 (Southeast Marion Cnty)', value: 0, hasProperties: true, propertyKeys: Array(5),¬†‚Ä¶}
VisualizationRenderer.ts:393 [VisualizationRenderer] üéØ Getting renderer for type: choropleth
VisualizationRenderer.ts:398 [VisualizationRenderer] ‚úÖ Found specific renderer for choropleth: ChoroplethRenderer
VisualizationRenderer.ts:456 [VisualizationRenderer] üîç detectGeometryType: Analyzing 984 records for geometry type
VisualizationRenderer.ts:461 [VisualizationRenderer] üîç detectGeometryType: Record 0 (00045 (Southeast Marion Cnty)): {hasProperties: true, hasGeometry: false, geometryType: undefined, hasCoordinates: true, coordinatesType: 'array',¬†‚Ä¶}
VisualizationRenderer.ts:512 [VisualizationRenderer] üîç detectGeometryType: Found coordinates array, inferring POINT
VisualizationRenderer.ts:542 [VisualizationRenderer] Using targetVariable for brand_difference: brand_difference_score
VisualizationRenderer.ts:137 [VisualizationRenderer] üîç Direct rendering condition check: {hasRenderer: true, hasLegend: true, isClustered: false, rendererType: 'class-breaks', legendTitle: 'Brand Market Share Difference (%)',¬†‚Ä¶}
VisualizationRenderer.ts:148 [VisualizationRenderer] üéØ Using DIRECT RENDERING from processor
VisualizationRenderer.ts:158 [VisualizationRenderer] Direct renderer result: {type: 'choropleth', hasRenderer: true, rendererType: 'class-breaks', hasPopupTemplate: true, hasLegend: true,¬†‚Ä¶}
AnalysisEngine.ts:326 [AnalysisEngine] üéØ Visualization created: {success: true, type: 'choropleth', hasRenderer: true, hasConfig: true, hasLegend: true}
AnalysisEngine.ts:398 [AnalysisEngine] Cache-based analysis complete: {records: 984, endpoint: '/brand-difference', executionTime: 297}
UnifiedAnalysisWrapper.tsx:138 [UnifiedAnalysisWrapper] Request completed: {processingTime: 653, hasResults: true}
UnifiedAnalysisWorkflow.tsx:481 [UnifiedWorkflow] Analysis complete: {analysisResult: {‚Ä¶}, metadata: {‚Ä¶}, exportOptions: {‚Ä¶}}
UnifiedAnalysisWorkflow.tsx:486 [UnifiedWorkflow] Applying visualization to map...
UnifiedAnalysisWorkflow.tsx:494 [UnifiedWorkflow] Starting geometry join for 984 records without geometry
blob-data-loader.ts:156 ‚úÖ Loaded zip_boundaries boundary from blob storage
UnifiedAnalysisWorkflow.tsx:503 [UnifiedWorkflow] ‚úÖ Loaded 984 ZIP code boundaries
UnifiedAnalysisWorkflow.tsx:563 [UnifiedWorkflow] ‚úÖ Geometry join complete: {totalRecords: 984, recordsWithGeometry: 984, recordsWithoutGeometry: 0, successRate: '100.0%'}
apply-analysis-visualization.ts:30 [applyAnalysisEngineVisualization] Starting with: {visualizationType: 'choropleth', hasRenderer: true, rendererType: 'class-breaks', rendererKeys: Array(4), recordCount: 984,¬†‚Ä¶}
apply-analysis-visualization.ts:61 [applyAnalysisEngineVisualization] ‚úÖ Records found, checking geometry...
apply-analysis-visualization.ts:65 [applyAnalysisEngineVisualization] Geometry check: {totalRecords: 984, recordsWithGeometry: 984, geometryTypes: Array(1), sampleGeometry: {‚Ä¶}, isClustered: undefined}
apply-analysis-visualization.ts:97 [applyAnalysisEngineVisualization] ‚úÖ ArcGIS modules imported successfully
apply-analysis-visualization.ts:244 [applyAnalysisEngineVisualization] Created features: {totalFeatures: 984, skippedFeatures: 0, geometryType: 'polygon'}
apply-analysis-visualization.ts:303 [applyAnalysisEngineVisualization] ‚ú® Creating analysis layer with ID: analysis-layer-1755868853941
apply-analysis-visualization.ts:319 [applyAnalysisEngineVisualization] FeatureLayer created successfully: {layerId: 'analysis-layer-1755868853941', layerType: 'feature', layerTitle: 'AnalysisEngine - brand_difference_score'}
layer-protection.ts:55 ‚úÖ [LAYER PROTECTION] Allowing removeMany (not theme switch)
apply-analysis-visualization.ts:345 [applyAnalysisEngineVisualization] üéØ Adding analysis layer to map
apply-analysis-visualization.ts:351 [applyAnalysisEngineVisualization] ‚úÖ Analysis layer added with protection metadata
apply-analysis-visualization.ts:360 [applyAnalysisEngineVisualization] üéØ Creating legend from renderer
apply-analysis-visualization.ts:378 [applyAnalysisEngineVisualization] üéØ Setting legend data from renderer
apply-analysis-visualization.ts:389 [applyAnalysisEngineVisualization] üéØ Calling onVisualizationLayerCreated for CustomPopupManager integration
apply-analysis-visualization.ts:393 [applyAnalysisEngineVisualization] ‚úÖ Visualization applied successfully
UnifiedAnalysisWorkflow.tsx:595 [UnifiedWorkflow] ‚úÖ Visualization applied successfully
UnifiedAnalysisWorkflow.tsx:620 [UnifiedWorkflow] üî• About to call onAnalysisComplete callback with result: {analysisResult: {‚Ä¶}, metadata: {‚Ä¶}, exportOptions: {‚Ä¶}}
UnifiedAnalysisWorkflow.tsx:621 [UnifiedWorkflow] üî• onAnalysisComplete exists? true
UnifiedAnalysisWorkflow.tsx:623 [UnifiedWorkflow] üî• Calling onAnalysisComplete...
UnifiedAnalysisWorkflow.tsx:625 [UnifiedWorkflow] üî• onAnalysisComplete called successfully
SampleAreasPanel.tsx:796 [SampleAreasPanel] Final render check: {visible: false, displayAreasCount: 5, loading: false}
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
CustomPopupManager.tsx:90 [CustomPopupManager] Applying standardized popup to layer: AnalysisEngine - brand_difference_score
CustomPopupManager.tsx:154 [CustomPopupManager] Configuring standard popup with value bars
CustomPopupManager.tsx:184 [CustomPopupManager] ‚úÖ Applied standard popup with value bars
ChatInterface.tsx:661 [ChatInterface] Starting auto-generation of AI narrative
MapClient.tsx:71 [MapClient MapLegend] Rendering legend: {title: 'Brand Difference Score', type: 'standard', visible: true, itemCount: 4, sampleItems: Array(4)}
MapClient.tsx:86 [MapClient MapLegend] Size values check: (4)¬†[{‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}]
SampleAreasPanel.tsx:796 [SampleAreasPanel] Final render check: {visible: false, displayAreasCount: 5, loading: false}
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
statsCalculator.ts:551 [formatStatsForChat] Called with analysisType: "brand-difference"
statsCalculator.ts:555 [formatStatsForChat] Using brand difference formatter
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
statsCalculator.ts:645 [formatDistributionForChat] Using brand difference distribution formatter
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
statsCalculator.ts:720 [formatPatternsForChat] Called with analysisType: "brand-difference"
statsCalculator.ts:724 [formatPatternsForChat] Using brand difference patterns formatter
ChatInterface.tsx:483 [ChatInterface] Generating initial AI narrative...
ChatInterface.tsx:539 [ChatInterface] Request payload prepared: {endpoint: '/brand-difference', recordCount: 984, spatialFilter: false, isClustered: false}
chat-service.ts:16 [ChatService] Sending chat message to API using JSON format with all required data
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
:3000/map:1 The resource http://localhost:3000/_next/static/media/e4af272ccee01ff0-s.p.woff2 was preloaded using link preload but not used within a few seconds from the window's load event. Please make sure it has an appropriate `as` value and it is preloaded intentionally.
chat-service.ts:54 [ChatService] Chat response received successfully
ChatInterface.tsx:614 [ChatInterface] AI narrative generated successfully
UnifiedAnalysisWorkflow.tsx:129 [UnifiedWorkflow] üîç PROPS DEBUG: {hasView: true, hasOnAnalysisComplete: true, onAnalysisCompleteType: 'function', hasOnExport: false, enableChat: true,¬†‚Ä¶}
:3000/map:1 The resource http://localhost:3000/_next/static/media/e4af272ccee01ff0-s.p.woff2 was preloaded using link preload but not used within a few seconds from the window's load event. Please make sure it has an appropriate `as` value and it is preloaded intentionally.
